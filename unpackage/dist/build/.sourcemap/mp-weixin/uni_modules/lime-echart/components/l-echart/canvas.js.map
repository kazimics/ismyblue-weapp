{"version":3,"file":"canvas.js","sources":["../../../../../../../../uni_modules/lime-echart/components/l-echart/canvas.js"],"sourcesContent":null,"names":["cacheChart","EventEmit","constructor","this","__events","on","type","listener","events","push","emit","e","Object","length","forEach","call","off","i","len","splice","Image","currentSrc","naturalHeight","naturalWidth","width","height","tagName","src","uni","getImageInfo","success","res","onload","fail","onerror","OffscreenCanvas","ctx","com","canvasId","w","offscreenWidth","h","offscreenHeight","getContext","getImageData","Promise","resolve","reject","$nextTick","canvasGetImageData","x","y","err","isNew","canvasNode","chart","_initStyle","_initEvent","_ee","setAttribute","key","value","setChart","createOffscreenCanvas","param","children","isOffscreenCanvas","offscreenCanvasId","context","createCanvasContext","appendChild","child","console","log","dispatchEvent","attachEvent","detachEvent","addEventListener","removeEventListener","_initCanvas","zrender","style","defineProperty","set","charAt","toUpperCase","slice","setGlobalAlpha","uniDrawImage","drawImage","a","createRadialGradient","createCircularGradient","arguments","strokeText","fillText","measureText","getSystemInfoSync","osName","_measureText","strLen","str","charCodeAt","text","font","fontSize","_a","state","parseInt","match","widthFactor","event","wxName","ecName","name","touch","touches","getZr","handler","dispatch","zrX","clientX","zrY","clientY","wheelDelta","zrDelta","preventDefault","stopPropagation","echarts","canvas","node","registerPreprocessor","warn","option","series","progressive","setPlatformAPI","loadImage","img","createImage","bind","createCanvas","index","canIUse"],"mappings":"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"}